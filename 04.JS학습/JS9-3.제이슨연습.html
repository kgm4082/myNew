<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS9-3. 제이슨 연습</title>
    <!-- JSON 불러오기 -->
    <script src="./JS9-3.data.json"></script>
    <script>
        /********************************************************* 
            [ 제이슨(JSON) 이란? ]
            객체형식의 데이터 저장파일
            객체는 object 즉, {속성:값} 형식 데이터 포맷
            - 이전에는 XML이 많이 쓰였으나
            지금은 JSON 대세임!
            - 이유는? 읽고쓰기가 편리함. 가독성 좋음
            - XML과 JSON의 공통점:
            모두 DB에 넣소 빼는 text기반 데이터형식!

            -> 참고
            https://www.w3schools.com/js/js_json_intro.asp

            ______________________________________________

            [ JS에서 JSON 사용하기 ]

            1. 먼저 JSON파일 불러오기
            (단, JSON파일안에 전체객체를 변수에 담아야한다! -> JS에서 JSON사용시 필요!)
            -> 실습에서 사용하는 JSON파일은
            jsonData라는 변수에 담았다!

            2. 변수에 JSON파일을 파싱하여 할당한다!
            let 변수명 = JSON.parse(JSON.stringify(JSON할당변수))

            * 파싱이란? 문자열 데이터를 분석하고 분해하여
            목적한 패턴에 맞게 문자열 구조를 결정하는것!
            -> JS의 JSON 데이터 파싱 메서드 : JSON.parse()
                : JSON.stringify
            
            3. 원하는 대로 객체호출 형식으로 사용한다1
            예) 객체변수명[속성명]

        *********************************************************/
       
        // 변수에 JSON 파싱 할당
        let myjson = JSON.parse(JSON.stringify(jsonData));
        // jsonData변수는 JSON파일에 할당한 변수명이다!
        // JSON 형식에서는 맞지않는 문법이라고 표시됨
        // 그런데 그냥 할당해서 사용해도 됨!

        // 가져온 JSON파일이 잘 변환되었는지 확인
        console.log(myjson);
        console.log(myjson["shopping"]["메뉴"]);

        // "living" 속성의 데이터를 for in문으로 돌아 찍기!
        let mydata = myjson["living"];
        for(let x in mydata){ // x는 속성명
            document.write(`<h2>${x} : ${mydata[x]}</h2>`);
        } /////////// for in /////////////

        document.write("<hr>");

        // "living" 속성의 데이터를 for in문으로 돌아 찍기!
        let mydata2 = myjson["fashion"];
        for(let x in mydata){ // x는 속성명
            document.write(`<h2>${x} : ${mydata2[x]}</h2>`);
        } /////////// for in /////////////
        
    </script>
</head>
<body>
    
</body>
</html>